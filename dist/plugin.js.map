{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst FileSelect = registerPlugin('FileSelect', {\n    web: () => import('./web').then(m => new m.FileSelectWeb()),\n});\nexport * from './definitions';\nexport { FileSelect };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class FileSelectWeb extends WebPlugin {\n    async select(options) {\n        const x = document.createElement('INPUT');\n        x.hidden = true;\n        x.setAttribute('type', 'file');\n        x.setAttribute('id', 'filePicker');\n        let accept = '';\n        options.extensions.forEach(element => {\n            if (element == 'images') {\n                accept = accept.concat('image/*,');\n            }\n            else if (element == 'videos') {\n                accept = accept.concat('video/*,');\n            }\n            else if (element == 'audios') {\n                accept = accept.concat('audio/*,');\n            }\n        });\n        let index = options.extensions.indexOf('images');\n        if (index > -1) {\n            options.extensions.splice(index, 1);\n        }\n        index = options.extensions.indexOf('videos');\n        if (index > -1) {\n            options.extensions.splice(index, 1);\n        }\n        index = options.extensions.indexOf('audios');\n        if (index > -1) {\n            options.extensions.splice(index, 1);\n        }\n        options.extensions = options.extensions.map(v => '.' + v);\n        accept = accept.concat(options.extensions.join(','));\n        x.setAttribute('accept', accept);\n        if (options.multiple) {\n            x.setAttribute('multiple', 'true');\n        }\n        return new Promise(resolve => {\n            x.addEventListener('change', () => {\n                if (document != null) {\n                    resolve(x.files);\n                }\n            });\n            x.click();\n        });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":";;;AACK,UAAC,UAAU,GAAGA,mBAAc,CAAC,YAAY,EAAE;IAChD,IAAI,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,aAAa,EAAE,CAAC;IAC/D,CAAC;;ICFM,MAAM,aAAa,SAASC,cAAS,CAAC;IAC7C,IAAI,MAAM,MAAM,CAAC,OAAO,EAAE;IAC1B,QAAQ,MAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAClD,QAAQ,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;IACxB,QAAQ,CAAC,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACvC,QAAQ,CAAC,CAAC,YAAY,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAC3C,QAAQ,IAAI,MAAM,GAAG,EAAE,CAAC;IACxB,QAAQ,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,IAAI;IAC9C,YAAY,IAAI,OAAO,IAAI,QAAQ,EAAE;IACrC,gBAAgB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACnD,aAAa;IACb,iBAAiB,IAAI,OAAO,IAAI,QAAQ,EAAE;IAC1C,gBAAgB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACnD,aAAa;IACb,iBAAiB,IAAI,OAAO,IAAI,QAAQ,EAAE;IAC1C,gBAAgB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACnD,aAAa;IACb,SAAS,CAAC,CAAC;IACX,QAAQ,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACzD,QAAQ,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;IACxB,YAAY,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAChD,SAAS;IACT,QAAQ,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACrD,QAAQ,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;IACxB,YAAY,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAChD,SAAS;IACT,QAAQ,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACrD,QAAQ,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;IACxB,YAAY,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAChD,SAAS;IACT,QAAQ,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;IAClE,QAAQ,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7D,QAAQ,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACzC,QAAQ,IAAI,OAAO,CAAC,QAAQ,EAAE;IAC9B,YAAY,CAAC,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAC/C,SAAS;IACT,QAAQ,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI;IACtC,YAAY,CAAC,CAAC,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IAC/C,gBAAgB,IAAI,QAAQ,IAAI,IAAI,EAAE;IACtC,oBAAoB,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACrC,iBAAiB;IACjB,aAAa,CAAC,CAAC;IACf,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC;IACtB,SAAS,CAAC,CAAC;IACX,KAAK;IACL;;;;;;;;;;;;;;;;;"}